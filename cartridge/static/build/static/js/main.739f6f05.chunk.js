(this["webpackJsonpform-builder"]=this["webpackJsonpform-builder"]||[]).push([[0],{117:function(e,t,i){},118:function(e,t,i){},125:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),s=i(38),r=i.n(s),u=(i(117),i(118),i(168)),o=i(161),c=i(12),l=i(4),d=i(9),b=i(46),h=i(47),p=function(){return Math.random().toString(36).substr(2,9)},j=function(e){return Object.keys(e).reduce((function(t,i){return t[i]=e[i].getGroupData(),t}),{})},f=function(e){return Object.keys(e).reduce((function(t,i){return t[i]=e[i].getFieldData(),t}),{})},O=function(){function e(t){Object(b.a)(this,e),this.title=void 0,this.type=void 0,this.required=void 0,this.placeholder=void 0,this.checked=void 0,this.pattern=void 0,this.minLength=void 0,this.maxLength=void 0,this.options=void 0,this._id=void 0,this._subGroups=void 0,this._subGroupsData=void 0,this._subFields=void 0,this._subFieldsData=void 0,this._parent=void 0,this._position="field",this._fieldType=void 0,this._id=t.id||p(),this.title=t.title||"Field ".concat(this._id),this.type=t.type||"",this.required=!!t.required,this.placeholder=t.placeholder,this.checked=t.checked,this.pattern=t.pattern,this.minLength=t.maxLength,this.maxLength=t.maxLength,this.options=t.options||[],this._subGroups=t.subGroups||[],this._subGroupsData=g(t.subGroupsData,v,this),this._subFields=t.subFields||[],this._subFieldsData=g(t.subFieldsData,e,this),this._parent=t.parent||null,this._fieldType=t.fieldType}return Object(h.a)(e,[{key:"id",get:function(){return this._id}},{key:"subGroups",get:function(){return this._subGroups}},{key:"subGroupsData",get:function(){return this._subGroupsData}},{key:"subFields",get:function(){return this._subFields}},{key:"subFieldsData",get:function(){return this._subFieldsData}},{key:"parent",get:function(){return this._parent}},{key:"position",get:function(){return this._position}},{key:"fieldType",get:function(){return this._fieldType}},{key:"getFieldData",value:function(){return{id:this._id,title:this.title,type:this.type,required:this.required,placeholder:this.placeholder,checked:this.checked,pattern:this.pattern,minLength:this.minLength,maxLength:this.maxLength,options:this.options,subGroups:this._subGroups,subGroupsData:j(this._subGroupsData),subFields:this._subFields,subFieldsData:f(this._subFieldsData)}}},{key:"getSubGroupData",value:function(e){return this._subGroupsData[e]||null}},{key:"getSubFieldData",value:function(e){return this._subFieldsData[e]||null}},{key:"createNewSubGroup",value:function(){var e=m(this,"subGroup"),t=Object(l.a)(e,2),i=t[0],n=t[1];return this._subGroups=[].concat(Object(d.a)(this._subGroups),[i]),this._subGroupsData[n.id]=n,[this._subGroups,this._subGroupsData]}},{key:"removeSubGroup",value:function(e){var t=x(e,this.subGroups,this.subGroupsData),i=Object(l.a)(t,2),n=i[0],a=i[1];return this._subGroups=n,this._subGroupsData=a,[this._subGroups,this._subGroupsData]}},{key:"creatNewSubField",value:function(){var e=F(this,"subField"),t=Object(l.a)(e,2),i=t[0],n=t[1];return this._subFields=[].concat(Object(d.a)(this._subFields),[i]),this._subFieldsData[n.id]=n,[this._subFields,this._subFieldsData]}},{key:"removeSubField",value:function(e){var t=x(e,this._subFields,this._subFieldsData),i=Object(l.a)(t,2),n=i[0],a=i[1];return this._subFields=n,this._subFieldsData=a,[this._subFields,this._subFieldsData]}},{key:"addOption",value:function(){return this.options=[].concat(Object(d.a)(this.options),[{id:p(),value:"",label:"",selected:!1}]),this.options}},{key:"removeOption",value:function(e){return this.options=this.options.filter((function(t){return t.id!==e})),this.options}},{key:"updateOption",value:function(e){return this.options=this.options.map((function(t){return t.id===e.id?e:t})),this.options}},{key:"updateSubFieldOrder",value:function(t){var i=this;return this._subFields=t,t.forEach((function(t){t.key in i._subFieldsData||(i._subFieldsData[t.key]=new e({id:t.key,title:"Field ".concat(t.key),parent:i,fieldType:"subField"}))})),[this._subFields,this._subFieldsData]}},{key:"updateSubGroupOrder",value:function(e){var t=this;return this._subGroups=e,e.forEach((function(e){e.key in t._subGroupsData||(t._subGroupsData[e.key]=new v({id:e.key,label:"Group ".concat(e.key),parent:t,groupType:"subGroup"}))})),[this.subGroups,this._subGroupsData]}},{key:"updateSubGroupItem",value:function(e){return this._subGroups=this.subGroups.map((function(t){return t.key===e.key?e:t})),this._subGroups}},{key:"updateSubFieldItem",value:function(e){return this._subFields=this._subFields.map((function(t){return t.key===e.key?e:t})),this._subFields}}]),e}(),v=function(){function e(t){Object(b.a)(this,e),this._id=void 0,this.label=void 0,this._groupType=void 0,this.fields=void 0,this.fieldsData=void 0,this.subGroups=void 0,this.subGroupsData=void 0,this.subFields=void 0,this.subFieldsData=void 0,this._parent=void 0,this._position="group",this._id=t.id||p(),this.label=t.label||"Group ".concat(this._id),this.fields=t.fields||[],this.fieldsData=g(t.fieldsData,O,this),this.subGroups=t.subGroups||[],this.subGroupsData=g(t.subGroupsData,e,this),this.subFields=t.subFields||[],this.subFieldsData=g(t.subFieldsData,O,this),this._parent=t.parent||null,this._groupType=t.groupType}return Object(h.a)(e,[{key:"id",get:function(){return this._id}},{key:"gFields",get:function(){return this.fields}},{key:"gSubGroups",get:function(){return this.subGroups}},{key:"gSubFields",get:function(){return this.subFields}},{key:"parent",get:function(){return this._parent}},{key:"position",get:function(){return this._position}},{key:"groupType",get:function(){return this._groupType}},{key:"getGroupData",value:function(){return{id:this.id,label:this.label,fields:this.fields,fieldsData:f(this.fieldsData),subGroups:this.subGroups,subGroupsData:j(this.subGroupsData),subFields:this.gSubFields,subFieldsData:f(this.subFieldsData)}}},{key:"getSubGroupData",value:function(e){return this.subGroupsData[e]||null}},{key:"getFieldData",value:function(e){return this.fieldsData[e]||null}},{key:"getSubFieldData",value:function(e){return this.subFieldsData[e]||null}},{key:"createNewSubGroup",value:function(){var e=m(this,"subGroup"),t=Object(l.a)(e,2),i=t[0],n=t[1];return this.subGroups=[].concat(Object(d.a)(this.subGroups),[i]),this.subGroupsData[n.id]=n,[this.subGroups,this.subGroupsData]}},{key:"removeSubGroup",value:function(e){var t=x(e,this.subGroups,this.subGroupsData),i=Object(l.a)(t,2),n=i[0],a=i[1];return this.subGroups=n,this.subGroupsData=a,[this.subGroups,this.subGroupsData]}},{key:"creatNewField",value:function(){var e=F(this,"field"),t=Object(l.a)(e,2),i=t[0],n=t[1];return this.fields=[].concat(Object(d.a)(this.fields),[i]),this.fieldsData[n.id]=n,[this.fields,this.fieldsData]}},{key:"removeField",value:function(e){var t=x(e,this.fields,this.fieldsData),i=Object(l.a)(t,2),n=i[0],a=i[1];return this.fields=n,this.fieldsData=a,[this.fields,this.fieldsData]}},{key:"creatNewSubField",value:function(){var e=F(this,"subField"),t=Object(l.a)(e,2),i=t[0],n=t[1];return this.subFields=[].concat(Object(d.a)(this.subFields),[i]),this.subFieldsData[n.id]=n,[this.subFields,this.subFieldsData]}},{key:"removeSubField",value:function(e){var t=x(e,this.subFields,this.subFieldsData),i=Object(l.a)(t,2),n=i[0],a=i[1];return this.subFields=n,this.subFieldsData=a,[this.subFields,this.subFieldsData]}},{key:"updateSubGroupOrder",value:function(t){var i=this;return this.subGroups=t,t.forEach((function(t){t.key in i.subGroupsData||(i.subGroupsData[t.key]=new e({id:t.key,label:"Group ".concat(t.key),parent:i,groupType:"subGroup"}))})),[this.subGroups,this.subGroupsData]}},{key:"updateSubFieldOrder",value:function(e){var t=this;return this.subFields=e,e.forEach((function(e){e.key in t.subFieldsData||(t.subFieldsData[e.key]=new O({id:e.key,title:"Field ".concat(e.key),parent:t,fieldType:"subField"}))})),[this.subFields,this.subFieldsData]}},{key:"updateFieldOrder",value:function(e){var t=this;return this.fields=e,e.forEach((function(e){e.key in t.fieldsData||(t.fieldsData[e.key]=new O({id:e.key,title:"Field ".concat(e.key),parent:t,fieldType:"field"}))})),[this.fields,this.fieldsData]}},{key:"updateSubGroupItem",value:function(e){return this.subGroups=this.subGroups.map((function(t){return t.key===e.key?e:t})),this.subGroups}},{key:"updateFieldItem",value:function(e){return this.fields=this.fields.map((function(t){return t.key===e.key?e:t})),this.fields}},{key:"updateSubFieldItem",value:function(e){return this.subFields=this.subFields.map((function(t){return t.key===e.key?e:t})),this.subFields}}]),e}();function g(e,t,i){var n={};for(var a in e)n[a]=new t(Object(c.a)(Object(c.a)({},e[a]),{},{parent:i}));return n}function x(e,t,i){return[t.filter((function(t){return t.key!==e})),Object.keys(i).reduce((function(t,n){return n!==e&&(t[n]=i[n]),t}),{})]}function m(e,t,i){var n=new v(Object(c.a)(Object(c.a)({},i),{},{parent:e,groupType:t}));return[{key:n.id,label:n.label},n]}function F(e,t,i){var n=new O(Object(c.a)(Object(c.a)({},i),{},{parent:e,fieldType:t}));return[{key:n.id,label:n.title},n]}var y=function(){function e(t){var i=t.title,n=void 0===i?"":i,a=t.description,s=void 0===a?"":a,r=t.group,u=void 0===r?[]:r,o=t.groupData,c=void 0===o?{}:o;Object(b.a)(this,e),this.id="onlyRoot",this.title=void 0,this.description=void 0,this.group=void 0,this.groupData=void 0,this._position="root",this.id=p(),this.title=n,this.description=s,this.group=u,this.groupData=g(c,v,this)}return Object(h.a)(e,[{key:"titleVal",get:function(){return this.title},set:function(e){this.title=e}},{key:"descriptionVal",get:function(){return this.description},set:function(e){this.description=e}},{key:"groupList",get:function(){return this.group}},{key:"position",get:function(){return this._position}},{key:"getStoreData",value:function(){var e=this;return{title:this.title,description:this.description,group:this.group,groupData:Object.keys(this.groupData).reduce((function(t,i){return t[i]=e.groupData[i].getGroupData(),t}),{})}}},{key:"getGroupData",value:function(e){return this.groupData[e]||null}},{key:"createNewGroup",value:function(){var e=m(this,"group"),t=Object(l.a)(e,2),i=t[0],n=t[1];return this.group=[].concat(Object(d.a)(this.group),[i]),this.groupData[n.id]=n,[this.group,this.groupData]}},{key:"removeGroup",value:function(e){var t=x(e,this.group,this.groupData),i=Object(l.a)(t,2),n=i[0],a=i[1];return this.group=n,this.groupData=a,[this.group,this.groupData]}},{key:"updateGroupItem",value:function(e){return this.group=this.group.map((function(t){return t.key===e.key?e:t})),this.group}},{key:"updateGroupOrder",value:function(e){var t=this;return this.group=e,e.forEach((function(e){e.key in t.groupData||(t.groupData[e.key]=new v({id:e.key,label:"Group ".concat(e.key),parent:t,groupType:"group"}))})),[this.group,this.groupData]}},{key:"updateRoot",value:function(e){var t=e.title,i=void 0===t?"":t,n=e.description,a=void 0===n?"":n,s=e.group,r=void 0===s?[]:s,u=e.groupData,o=void 0===u?{}:u;return this.id=p(),this.title=i,this.description=a,this.group=r,this.groupData=g(o,v,this),this}}]),e}(),k=i(170),D=i(154),G=i(50),S=i(155),_=i(156),w=i(157),C=i(146),N=i(140),T=i(147),L=i(165),E=i(106),I=i(143),R=i(152),P=i(153),A=i(141),V=i(142),q=i(145),B=i(34),H=i(2),M=function(e){var t=e.id,i=e.index,n=e.label,a=e.onGoToGroup,s=e.onDelete;return Object(H.jsx)(B.b,{draggableId:t,index:i,children:function(e){return Object(H.jsxs)(N.a,Object(c.a)(Object(c.a)(Object(c.a)({},e.dragHandleProps),e.draggableProps),{},{ref:e.innerRef,background:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"6",w:"100%",children:[Object(H.jsxs)(A.a,{flex:"1",alignItems:"center",d:"flex",onClick:function(){return a(t)},_hover:{color:"blue"},justifyContent:"flex-start",children:[Object(H.jsx)(V.a,{color:"gray.300",w:"10"})," ",n]}),Object(H.jsx)(I.a,{onClick:function(){return s(t)},background:"white","aria-label":"Remove item",_hover:{background:"red"},icon:Object(H.jsx)(q.a,{})})]}))}})},z=function(e){var t=e.label,i=e.value,n=void 0===i?[]:i,a=e.onDelete,s=e.onAdd,r=e.handleOnDragEnd,u=e.components,o=e.onGoToGroup;return Object(H.jsxs)(C.a,{children:[Object(H.jsxs)(N.a,{justifyContent:"space-between",alignItems:"center",mb:2,children:[Object(H.jsx)(T.a,{fontWeight:"semibold",children:t}),u?Object(H.jsxs)(L.a,{children:[Object(H.jsx)(L.b,{as:E.a,colorScheme:"teal",rightIcon:Object(H.jsx)(R.a,{}),children:"Component"}),Object(H.jsx)(L.d,{children:u.map((function(e,t){return Object(H.jsx)(L.c,{onClick:function(){return s(e.val)},icon:Object(H.jsx)(P.a,{}),children:e.content},"".concat(e).concat(t))}))})]}):Object(H.jsx)(I.a,{"aria-label":"Add Group",isRound:!0,colorScheme:"teal",size:"sm",icon:Object(H.jsx)(P.a,{}),onClick:function(){return s()}})]}),Object(H.jsx)(B.a,{onDragEnd:r,children:Object(H.jsx)(B.c,{droppableId:"droppable-".concat(p()),children:function(e){return Object(H.jsxs)(k.a,Object(c.a)(Object(c.a)({as:"ol"},e.droppableProps),{},{ref:e.innerRef,spacing:"1.5",border:"1px dashed",borderColor:"gray.200",padding:"2",minHeight:"24",children:[n.map((function(e,t){return Object(H.jsx)(M,{id:e.key,index:t,onDelete:a,onGoToGroup:o,label:e.label},e.key)})),e.placeholder]}))}})})]})},J=function(e){var t=Object(n.useState)(null),i=Object(l.a)(t,2),a=i[0],s=i[1],r=Object(n.useState)(null),u=Object(l.a)(r,2),o=u[0],c=u[1],b=Object(n.useState)([]),h=Object(l.a)(b,2),p=h[0],j=h[1];Object(n.useEffect)((function(){e.curNode&&null===a&&null===o&&(s(e.curNode.titleVal),c(e.curNode.descriptionVal),j(e.curNode.groupList))}),[e,a,o]);return Object(H.jsxs)(k.a,{as:"main",spacing:6,children:[Object(H.jsx)(D.a,{as:"h1",children:"Form Builder"}),Object(H.jsxs)(k.a,{as:"form",spacing:6,children:[Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"title",children:"Title"}),Object(H.jsx)(_.a,{name:"title",value:a||"",onChange:function(t){return i=t.target.value,e.curNode.titleVal=i,void s(e.curNode.titleVal);var i},placeholder:"Form Title"})]}),Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"description",children:"Description"}),Object(H.jsx)(w.a,{name:"description",value:o||"",placeholder:"Details about the form",onChange:function(t){return i=t.target.value,e.curNode.descriptionVal=i,void c(e.curNode.descriptionVal);var i}})]}),Object(H.jsx)(z,{label:"Groups",value:p,onDelete:function(t){var i=e.curNode.removeGroup(t),n=Object(l.a)(i,1)[0];j(n)},onAdd:function(){var t=e.curNode.createNewGroup(),i=Object(l.a)(t,1)[0];j(i)},onGoToGroup:function(t){var i=e.curNode.getGroupData(t);e.nextNode(i)},handleOnDragEnd:function(t){if(t.destination){var i=Object(d.a)(p),n=i.splice(t.source.index,1),a=Object(l.a)(n,1)[0];i.splice(t.destination.index,0,a);var s=e.curNode.updateGroupOrder(i),r=Object(l.a)(s,1)[0];j(r)}}})]})]})},W=[{val:"customField",content:"Custom"},{val:"customField",content:"Custom Long Name Here Boy"}],K=function(e){var t=e.rootNode,i=e.curNode,a=e.nextNode,s=Object(n.useState)(null),r=Object(l.a)(s,2),u=r[0],o=r[1],c=Object(n.useState)([]),b=Object(l.a)(c,2),h=b[0],p=b[1],j=Object(n.useState)([]),f=Object(l.a)(j,2),O=f[0],v=f[1],g=Object(n.useState)([]),x=Object(l.a)(g,2),m=x[0],F=x[1];Object(n.useEffect)((function(){i&&null===u&&(o(i.label),p(i.gFields),v(i.gSubGroups),F(i.gSubFields))}),[i,u,t]);var y=function(e,t){switch(t){case"field":var n=i.removeField(e),a=Object(l.a)(n,1)[0];p(a);break;case"subG":var s=i.removeSubGroup(e),r=Object(l.a)(s,1)[0];v(r);break;case"subF":var u=i.removeSubField(e),o=Object(l.a)(u,1)[0];F(o)}},w=function(e,n){switch(e){case"field":var a=i.creatNewField(),s=Object(l.a)(a,1)[0];p(s);break;case"subG":var r=i.createNewSubGroup(),u=Object(l.a)(r,1)[0];v(u);break;case"subF":var o=i.creatNewSubField(),c=Object(l.a)(o,1)[0];F(c)}console.log({rootNode:t,curNode:i})},C=function(e,t,n){if(e.destination){var a=Object(d.a)(n),s=a.splice(e.source.index,1),r=Object(l.a)(s,1)[0];switch(a.splice(e.destination.index,0,r),t){case"field":var u=i.updateFieldOrder(a),o=Object(l.a)(u,1)[0];p(o);break;case"subG":var c=i.updateSubGroupOrder(a),b=Object(l.a)(c,1)[0];v(b);break;case"subF":var h=i.updateSubFieldOrder(a),j=Object(l.a)(h,1)[0];F(j)}}};return Object(H.jsxs)(k.a,{as:"main",spacing:6,children:[Object(H.jsx)(D.a,{as:"h1",children:"Group"}),Object(H.jsxs)(k.a,{as:"form",spacing:6,children:[Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"title",children:"Title"}),Object(H.jsx)(_.a,{name:"Label",value:u||"",onChange:function(e){return function(e){i.label=e,o(i.label);var t={key:i.id,label:i.label};"group"===i.groupType?i.parent.updateGroupItem(t):"subGroup"===i.groupType&&i.parent.updateSubGroupItem(t)}(e.target.value)},placeholder:"Form Title"})]}),Object(H.jsx)(z,{label:"Fields",value:h,components:W,onDelete:function(e){return y(e,"field")},onAdd:function(e){return w("field")},onGoToGroup:function(e){var t=i.getFieldData(e);a(t)},handleOnDragEnd:function(e){return C(e,"field",h)}}),Object(H.jsx)(z,{label:"Sub Groups",value:O,onDelete:function(e){return y(e,"subG")},onAdd:function(){return w("subG")},onGoToGroup:function(e){var t=i.getSubGroupData(e);a(t)},handleOnDragEnd:function(e){return C(e,"subG",O)}}),Object(H.jsx)(z,{label:"Sub Fields",value:m,components:W,onDelete:function(e){return y(e,"subF")},onAdd:function(e){return w("subF")},onGoToGroup:function(e){var t=i.getSubFieldData(e);a(t)},handleOnDragEnd:function(e){return C(e,"subF",m)}})]})]})},Q=i(160),U=i(159),X=i(169),Y=i(162),Z=i(158),$=i(166),ee=i(164),te=[{label:"Check Box",value:"checkbox"},{label:"Text",value:"text"},{label:"Textarea",value:"textarea"},{label:"Tel",value:"tel"},{label:"Email",value:"email"},{label:"Select",value:"select"}],ie=i(148),ne=i(167),ae=i(97),se=a.a.forwardRef((function(e,t){return Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:e.id,children:e.label}),Object(H.jsx)(_.a,Object(c.a)({ref:t,id:e.id},e))]})})),re=function(e){var t=e.firstFieldRef,i=e.onCancel,a=e.handleSubmit,s=e.optionData,r=Object(n.useState)(s.label),u=Object(l.a)(r,2),o=u[0],c=u[1],d=Object(n.useState)(s.value),b=Object(l.a)(d,2),h=b[0],p=b[1],j=Object(n.useState)(s.selected),f=Object(l.a)(j,2),O=f[0],v=f[1];return Object(H.jsxs)(k.a,{spacing:4,children:[Object(H.jsx)(se,{label:"Label",id:"label",ref:t,placeholder:"Option Label",value:o,onChange:function(e){return c(e.target.value)},required:!0}),Object(H.jsx)(se,{label:"Value",id:"value",placeholder:"Option Value",value:h,onChange:function(e){return p(e.target.value)},required:!0}),Object(H.jsx)(G.a,{children:Object(H.jsx)($.a,{onChange:function(e){return v(e.target.checked)},checked:O,children:"Selected"})}),Object(H.jsxs)(ae.a,{d:"flex",justifyContent:"flex-end",children:[Object(H.jsx)(E.a,{variant:"outline",onClick:i,children:"Cancel"}),Object(H.jsx)(E.a,{onClick:function(){return a({id:s.id,label:o,value:h,selected:O})},colorScheme:"teal",children:"Submit"})]})]})},ue=i(104),oe=function(e){var t=e.id,i=e.index,n=e.label,s=e.handleSubmit,r=e.onDelete,u=e.optionData,o=Object(ie.a)(),l=o.onOpen,d=o.onClose,b=o.isOpen,h=a.a.useRef(null);return Object(H.jsx)(B.b,{draggableId:t,index:i,children:function(e){return Object(H.jsxs)(N.a,Object(c.a)(Object(c.a)(Object(c.a)({},e.dragHandleProps),e.draggableProps),{},{ref:e.innerRef,background:"white",border:"1px solid",borderColor:"gray.200",borderRadius:"6",w:"100%",children:[Object(H.jsxs)(ne.a,{isOpen:b,initialFocusRef:h,onOpen:l,onClose:d,placement:"bottom",closeOnBlur:!1,children:[Object(H.jsx)(ne.e,{children:Object(H.jsxs)(A.a,{flex:"1",alignItems:"center",d:"flex",_hover:{color:"blue"},justifyContent:"flex-start",children:[Object(H.jsx)(V.a,{color:"gray.300",w:"10"})," ",n]})}),Object(H.jsx)(ne.d,{p:5,children:Object(H.jsxs)(ue.a,{returnFocus:!0,persistentFocus:!1,children:[Object(H.jsx)(ne.b,{}),Object(H.jsx)(ne.c,{}),Object(H.jsx)(re,{optionData:u,firstFieldRef:h,handleSubmit:s,onCancel:d})]})})]}),Object(H.jsx)(I.a,{onClick:function(){return r(t)},background:"white","aria-label":"Remove item",_hover:{background:"red"},icon:Object(H.jsx)(q.a,{})})]}))}})},ce=function(e){var t=e.label,i=e.value,n=void 0===i?[]:i,a=e.onDelete,s=e.onAdd,r=e.handleOnDragEnd,u=e.handleSubmit;return Object(H.jsxs)(C.a,{children:[Object(H.jsxs)(N.a,{justifyContent:"space-between",alignItems:"center",mb:2,children:[Object(H.jsx)(T.a,{fontWeight:"semibold",children:t}),Object(H.jsx)(I.a,{"aria-label":"Add Group",isRound:!0,colorScheme:"teal",size:"sm",icon:Object(H.jsx)(P.a,{}),onClick:function(){return s()}})]}),Object(H.jsx)(B.a,{onDragEnd:r,children:Object(H.jsx)(B.c,{droppableId:"droppable-".concat(p()),children:function(e){return Object(H.jsxs)(k.a,Object(c.a)(Object(c.a)({as:"ol"},e.droppableProps),{},{ref:e.innerRef,spacing:"1.5",border:"1px dashed",borderColor:"gray.200",padding:"2",minHeight:"24",children:[n.map((function(e,t){return Object(H.jsx)(oe,{id:e.id,index:t,optionData:e,onDelete:a,handleSubmit:u,label:e.label},e.id)})),e.placeholder]}))}})})]})},le=[{val:"customField",content:"Custom"},{val:"customField",content:"Custom Long Name Here Boy"}],de=["tel","text","textarea","email"],be=["tel","text","textarea"],he=["tel","text","textarea","email"],pe=function(e){var t=e.rootNode,i=e.curNode,a=e.nextNode,s=Object(n.useState)(null),r=Object(l.a)(s,2),u=r[0],o=r[1],c=Object(n.useState)(""),b=Object(l.a)(c,2),h=b[0],p=b[1],j=Object(n.useState)(!1),f=Object(l.a)(j,2),O=f[0],v=f[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),m=x[0],F=x[1],y=Object(n.useState)(!1),w=Object(l.a)(y,2),C=w[0],N=w[1],T=Object(n.useState)(""),L=Object(l.a)(T,2),E=L[0],I=L[1],R=Object(n.useState)(""),P=Object(l.a)(R,2),A=P[0],V=P[1],q=Object(n.useState)(""),B=Object(l.a)(q,2),M=B[0],J=B[1],W=Object(n.useState)([]),K=Object(l.a)(W,2),Q=K[0],U=K[1],X=Object(n.useState)([]),Y=Object(l.a)(X,2),ie=Y[0],ne=Y[1],ae=Object(n.useState)([]),se=Object(l.a)(ae,2),re=se[0],ue=se[1];Object(n.useEffect)((function(){i&&null===u&&(o(i.title),p(i.type),v(i.required),F(i.placeholder),N(i.checked),I(i.pattern),V(i.minLength),J(i.maxLength),U(i.options),ne(i.subGroups),ue(i.subFields))}),[i,u,t]);var oe=function(e,t){switch(t){case"subG":var n=i.removeSubGroup(e),a=Object(l.a)(n,1)[0];ne(a);break;case"subF":var s=i.removeSubField(e),r=Object(l.a)(s,1)[0];ue(r)}},pe=function(e,n){switch(e){case"subG":var a=i.createNewSubGroup(),s=Object(l.a)(a,1)[0];ne(s);break;case"subF":var r=i.creatNewSubField(),u=Object(l.a)(r,1)[0];ue(u)}console.log({rootNode:t,curNode:i})},je=function(e,t,n){if(e.destination){var a=Object(d.a)(n),s=a.splice(e.source.index,1),r=Object(l.a)(s,1)[0];switch(a.splice(e.destination.index,0,r),t){case"opt":i.options=a,U(i.options);break;case"subG":var u=i.updateSubGroupOrder(a),o=Object(l.a)(u,1)[0];ne(o);break;case"subF":var c=i.updateSubFieldOrder(a),b=Object(l.a)(c,1)[0];ue(b)}}};return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(k.a,{as:"main",spacing:6,children:[Object(H.jsx)(D.a,{as:"h1",children:"Field"}),Object(H.jsxs)(k.a,{as:"form",spacing:6,children:[Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"title",children:"Title"}),Object(H.jsx)(_.a,{name:"title",value:u||"",onChange:function(e){return function(e){i.title=e,o(i.title);var t={key:i.id,label:i.title};"field"===i.fieldType?i.parent.updateFieldItem(t):"subField"===i.fieldType&&i.parent.updateSubFieldItem(t)}(e.target.value)},placeholder:"Form Title"})]}),Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"type",children:"Type"}),Object(H.jsx)(Z.a,{name:"type",onChange:function(e){return t=e.target.value,i.type=t,void p(i.type);var t},value:h,placeholder:"Select option",children:te.map((function(e){var t=e.value,i=e.label;return Object(H.jsx)("option",{value:t,children:i},t)}))})]}),Object(H.jsx)(G.a,{children:Object(H.jsx)($.a,{checked:O,onChange:function(e){return t=e.target.checked,i.required=t,void v(i.required);var t},children:"Required Field"})}),de.includes(h)&&Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"placeholder",children:"Placeholder Text"}),Object(H.jsx)(_.a,{name:"placeholder",value:m||"",onChange:function(e){return t=e.target.value,i.placeholder=t,void F(i.placeholder);var t},placeholder:"Enter Placeholder"})]}),"checkbox"===h&&Object(H.jsx)($.a,{checked:C,onChange:function(e){return t=e.target.checked,i.checked=t,void N(i.checked);var t},children:"Checked"}),be.includes(h)&&Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"pattern",children:"Pattern"}),Object(H.jsx)(_.a,{name:"pattern",value:E||"",onChange:function(e){return t=e.target.value,i.pattern=t,void I(i.pattern);var t},placeholder:"Pattern which will be matched with value"})]}),he.includes(h)&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"minLength",children:"Value Min Length"}),Object(H.jsxs)(ee.c,{name:"minLength",onChange:function(e){return function(e){i.minLength=e,V(i.minLength)}(e)},value:A,children:[Object(H.jsx)(ee.d,{}),Object(H.jsxs)(ee.e,{children:[Object(H.jsx)(ee.b,{}),Object(H.jsx)(ee.a,{})]})]})]}),Object(H.jsxs)(G.a,{children:[Object(H.jsx)(S.a,{htmlFor:"maxLength",children:"Value Max Length"}),Object(H.jsxs)(ee.c,{name:"maxLength",onChange:function(e){return function(e){i.maxLength=e,J(i.maxLength)}(e)},value:M,children:[Object(H.jsx)(ee.d,{}),Object(H.jsxs)(ee.e,{children:[Object(H.jsx)(ee.b,{}),Object(H.jsx)(ee.a,{})]})]})]})]}),"select"===h&&Object(H.jsx)(ce,{label:"Options List",value:Q,onDelete:function(e){var t=i.removeOption(e);U(t)},onAdd:function(){var e=i.addOption();U(e)},handleOnDragEnd:function(e){return je(e,"opt",Q)},handleSubmit:function(e){var t=i.updateOption(e);U(t)}}),Object(H.jsx)(z,{label:"Sub Groups",value:ie,onDelete:function(e){return oe(e,"subG")},onAdd:function(){return pe("subG")},onGoToGroup:function(e){var t=i.getSubGroupData(e);a(t)},handleOnDragEnd:function(e){return je(e,"subG",ie)}}),Object(H.jsx)(z,{label:"Sub Fields",value:re,components:le,onDelete:function(e){return oe(e,"subF")},onAdd:function(e){return pe("subF")},onGoToGroup:function(e){var t=i.getSubFieldData(e);a(t)},handleOnDragEnd:function(e){return je(e,"subF",re)}})]})]})})},je={enter:{x:1e3,zIndex:0},center:{zIndex:1,x:0},exit:{x:-1e3}},fe={x:{type:"spring",stiffness:300,damping:30,duration:.2}},Oe={gridRow:1,gridColumn:1},ve=function(e){var t,i,a=Object(n.useState)("root"),s=Object(l.a)(a,2),r=s[0],u=s[1],o=Object(n.useState)(null),d=Object(l.a)(o,2),b=d[0],h=d[1],p=Object(n.useState)(null),j=Object(l.a)(p,2),f=j[0],O=j[1];Object(n.useEffect)((function(){b||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(null),h(null);var t=new y(e);h(t),O(t)}()}),[b]);var v=Object(n.useCallback)((function(e){var t,i;console.log("onMessageReceivedFromIframe");var n=e.data.formData;console.log({data:e.data,formData:n}),"react-devtools-bridge"===(null===(t=e.data)||void 0===t?void 0:t.source)&&"react-devtools-content-script"===(null===(i=e.data)||void 0===i?void 0:i.source)||e&&"object"===typeof n&&null!==n&&(console.log("run on mess"),b.updateRoot(n),O(null),O(b))}),[b]);Object(n.useEffect)((function(){return console.log("add"),window.addEventListener("message",v),function(){window.removeEventListener("message",v),console.log("removed")}}),[v]);var g=function(e){O(e),u(e.position)};return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(C.a,{as:"header",d:"flex",children:["root"!==r&&Object(H.jsxs)(A.a,{d:"flex",alignItems:"center",onClick:function(){g(f.parent)},children:[Object(H.jsx)(U.a,{mx:"2px"}),(null===f||void 0===f||null===(t=f.parent)||void 0===t?void 0:t.label)||(null===f||void 0===f||null===(i=f.parent)||void 0===i?void 0:i.title)||"Root Page"]}),Object(H.jsx)(Q.a,{transition:"flex 0.2s",flex:"root"!==r?"1":"0"}),Object(H.jsx)(E.a,{onClick:function(){var e=b.getStoreData();console.log(JSON.stringify(e)),window.parent.postMessage({formData:e},"*")},children:"PRINT DATA"})]}),Object(H.jsx)(C.a,{d:"grid",position:"relative",children:f?Object(H.jsxs)(X.a,{initial:!1,children:["root"===r&&Object(H.jsx)(Y.a.div,{style:Object(c.a)({},Oe),initial:"enter",animate:"center",exit:"exit",variants:je,transition:fe,children:Object(H.jsx)(J,{rootNode:b,curNode:f,nextNode:g})},f.id),"group"===r&&Object(H.jsx)(Y.a.div,{style:Object(c.a)({},Oe),variants:je,initial:"enter",animate:"center",exit:"exit",transition:fe,children:Object(H.jsx)(K,{rootNode:b,curNode:f,nextNode:g})},f.id),"field"===r&&Object(H.jsx)(Y.a.div,{style:Object(c.a)({},Oe),variants:je,initial:"enter",animate:"center",exit:"exit",transition:fe,children:Object(H.jsx)(pe,{rootNode:b,curNode:f,nextNode:g})},f.id)]}):Object(H.jsx)("h1",{children:"Loading..."})}),Object(H.jsx)("footer",{})]})};var ge=function(){return Object(H.jsx)(u.a,{resetCSS:!0,children:Object(H.jsx)(o.a,{className:"",maxW:"xl",position:"relative",children:Object(H.jsx)(ve,{})})})},xe=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,171)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(H.jsx)(a.a.StrictMode,{children:Object(H.jsx)(ge,{})}),document.getElementById("root")),xe()}},[[125,1,2]]]);
//# sourceMappingURL=main.739f6f05.chunk.js.map